(this["webpackJsonpthe-1-referral-platform"]=this["webpackJsonpthe-1-referral-platform"]||[]).push([[0],{143:function(e,t,a){e.exports=a(311)},153:function(e,t,a){},175:function(e,t){},177:function(e,t){},210:function(e,t){},211:function(e,t){},301:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),s=a(14),c=a(0),l=a.n(c),o=a(37),u=a(23),i=(a(153),a(140)),m=a(32),p=a(77),h=a.n(p);function d(e){e?h.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete h.a.defaults.headers.common.Authorization}var E=a(25),f={signatureJWT:e=>Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=E.HmacSHA256(e,"MBCNEXTGEN402017"),t.next=3,E.enc.Base64;case 3:return t.t1=t.sent,t.next=6,t.t0.toString.call(t.t0,t.t1).replace(/[+]/g,"-").replace(/\//g,"_").replace(/=/g,"");case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))(),decodeBase64:e=>Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=E.enc.Base64.parse(e),t.next=3,E.enc.Utf8;case 3:return t.t1=t.sent,t.next=6,t.t0.toString.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))(),encodeBase64Text:e=>Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=E.enc.Base64,t.next=3,E.enc.Utf8.parse(JSON.stringify(e));case 3:return t.t1=t.sent,t.next=6,t.t0.stringify.call(t.t0,t.t1).replace(/=/g,"");case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))(),encodeBase64:e=>Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=E.enc.Base64,t.next=3,E.enc.Utf8.parse(JSON.stringify(e));case 3:return t.t1=t.sent,t.next=6,t.t0.stringify.call(t.t0,t.t1).replace(/[+]/g,"-").replace(/\//g,"_").replace(/=/g,"");case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))(),decode(e){var t=this;return Object(s.a)(r.a.mark((function a(){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,e&&0!==e.length){a.next=3;break}return a.abrupt("return",null);case 3:if(3===(n=e.split(".")).length){a.next=6;break}return a.abrupt("return",!1);case 6:return a.next=8,t.signatureJWT(n[0]+"."+n[1]);case 8:if(a.t0=a.sent,a.t1=n[2],a.t0===a.t1){a.next=12;break}return a.abrupt("return",!1);case 12:return a.t2=JSON,a.next=15,t.decodeBase64(n[1]);case 15:return a.t3=a.sent,a.abrupt("return",a.t2.parse.call(a.t2,a.t3));case 19:return a.prev=19,a.t4=a.catch(0),a.abrupt("return",!1);case 22:case"end":return a.stop()}}),a,null,[[0,19]])})))()},encode(e){var t=this;return Object(s.a)(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.encodeBase64({typ:"JWT",alg:"HS256"});case 3:return n=a.sent,a.next=6,t.encodeBase64(e);case 6:return s=a.sent,a.t0=n+"."+s+".",a.next=10,t.signatureJWT(n+"."+s);case 10:return a.t1=a.sent,a.abrupt("return",a.t0+a.t1);case 14:return a.prev=14,a.t2=a.catch(0),a.abrupt("return",null);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))()}};function g(e){return{type:"SET_CURRENT_USER",user:e}}function v(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,f.decode(t);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=a(141),N=a.n(x);const y={isAuthenticated:!1,user:{}};var w=(e=y,t={})=>{switch(t.type){case"SET_CURRENT_USER":return{isAuthenticated:!N()(t.user),user:t.user};default:return e}};const C={active:!0};var k=(e=C,t={})=>{switch(t.type){case"LOADING_ACTIVE":return{active:!0};case"LOADING_INACTIVE":return{active:!1};default:return e}};function O(){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(m.e)(Object(m.c)({auth:w,load:k}),Object(m.d)(Object(m.a)(i.a),window.devToolsExtension?window.devToolsExtension():e=>e)),a=function(){var e=Object(s.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.referral_token,e.next=3,v(a);case 3:d(n=e.sent),n?t.dispatch(g(n)):a&&localStorage.removeItem("referral_token");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,a();case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(301);class A extends l.a.Component{constructor(...e){super(...e),this.state={load:!1}}UNSAFE_componentWillMount(){this.setState({load:this.props.active})}UNSAFE_componentWillUpdate(e){this.setState({load:e.active})}loadHTML(){return this.state.load?l.a.createElement("div",{className:"loading-wrapper"},l.a.createElement("div",{className:"loading-text"},"LOADING"),l.a.createElement("div",{className:"loading-content"})):l.a.createElement(l.a.Fragment,null)}render(){return this.loadHTML()}}var L=Object(u.b)((function(e){return e.load}))(A),_=a(28),j=a(29);function M(e){return{type:"ADD_FLASH_MESSAGE",message:e}}var U=function(e){class t extends l.a.Component{UNSAFE_componentWillMount(){this.props.isAuthenticated||(this.props.addFlashMessage({type:"error",text:"You need to login to access this page"}),this.props.history.push("/auth/login"))}UNSAFE_componentWillUpdate(e){e.isAuthenticated||this.props.history.push("/")}render(){return l.a.createElement(e,this.props)}}return Object(u.b)((function(e){return e.auth}),{addFlashMessage:M})(t)},T=function(e){class t extends l.a.Component{UNSAFE_componentWillMount(){this.props.isAuthenticated&&this.props.removeStorage()}UNSAFE_componentWillUpdate(e){console.log(e),e.isAuthenticated&&e.removeStorage()}render(){return l.a.createElement(e,this.props)}}return Object(u.b)((function(e){return e.auth}),(function(e){return{removeStorage:()=>{localStorage.removeItem("referral_token"),d(!1),e(g({}))}}}))(t)},z=a(312),B=a(313),V=a(314),D=a(315),I=a(316),H=a(317),R=a(326),F=a(318),W=a(319);class J extends l.a.Component{constructor(e){super(e),this.state={collapseOpen:!1},this.toggleCollapse=()=>{this.setState({collapseOpen:!this.state.collapseOpen})},this.closeCollapse=()=>{this.setState({collapseOpen:!1})},this.createLinks=e=>e.map((e,t)=>l.a.createElement(z.a,{key:t},l.a.createElement(B.a,{to:e.layout+e.path,tag:_.c,onClick:this.closeCollapse,activeClassName:"active"},l.a.createElement("i",{className:e.icon}),l.a.createElement("b",null,e.name)))),this.activeRoute.bind(this)}activeRoute(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}render(){const e=this.props,t=e.routes,a=e.logo;let n;return a&&a.innerLink?n={to:a.innerLink,tag:_.b}:a&&a.outterLink&&(n={href:a.outterLink,target:"_blank"}),l.a.createElement(V.a,{className:"navbar-vertical fixed-left",expand:"md"},l.a.createElement(D.a,{fluid:!0},l.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},l.a.createElement("span",{className:"navbar-toggler-icon"})),a?l.a.createElement(I.a,Object.assign({className:"pt-3"},n),l.a.createElement("img",{alt:a.imgAlt,className:"navbar-brand-img",src:a.imgSrc})):null,l.a.createElement(H.a,{className:"align-items-center d-md-none"}),l.a.createElement(R.a,{navbar:!0,isOpen:this.state.collapseOpen},l.a.createElement("div",{className:"navbar-collapse-header d-md-none"},l.a.createElement(F.a,null,a?l.a.createElement(W.a,{className:"collapse-brand text-center",xs:{size:6,offset:3}},a.innerLink?l.a.createElement(_.b,{to:a.innerLink},l.a.createElement("img",{alt:a.imgAlt,src:a.imgDarkSrc})):l.a.createElement("a",{href:a.outterLink},l.a.createElement("img",{alt:a.imgAlt,src:a.imgSrc}))):null,l.a.createElement(W.a,{className:"collapse-close",xs:"3"},l.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},l.a.createElement("span",null),l.a.createElement("span",null))))),l.a.createElement(H.a,{navbar:!0},this.createLinks(t)))))}}J.defaultProps={routes:[{}]};var G=J;class P extends l.a.Component{render(){return l.a.createElement("div",null)}}var X=P,Y=a(320),q=a(321),K=a(322),Q=a(323),Z=a(324),$=a(325);class ee extends l.a.Component{render(){return l.a.createElement(W.a,{lg:"5",md:"7"},l.a.createElement(Y.a,{className:"bg-secondary shadow border-0"},l.a.createElement(q.a,{className:"px-lg-5 py-lg-5"},l.a.createElement("div",{className:"text-center text-muted mb-4"},l.a.createElement("h1",{className:"underline-text"},"LOGIN")),l.a.createElement(K.a,{role:"form"},l.a.createElement(Q.a,{className:"mb-3"},l.a.createElement("label",null,l.a.createElement("b",null,"Username")),l.a.createElement(Z.a,{placeholder:"Username",name:"username",type:"text",autoComplete:"username"})),l.a.createElement(Q.a,null,l.a.createElement("label",null,l.a.createElement("b",null,"Password")),l.a.createElement(Z.a,{placeholder:"Password",name:"password",type:"password",autoComplete:"password"})),l.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},l.a.createElement("input",{className:"custom-control-input",id:"customCheckLogin",type:"checkbox"}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckLogin"},l.a.createElement("span",{className:"text-muted"},"Remember me"))),l.a.createElement("div",{className:"text-center"},l.a.createElement($.a,{className:"btn-block my-4",color:"primary",type:"button"},"login"))))))}}var te=[{path:"/",name:"Dashboard",icon:"icon-dashboard",component:X,layout:"/admin"},{path:"/login",name:"Login",icon:"",component:ee,layout:"/auth"},{path:"/logout",name:"Logout",icon:"",component:ee,layout:"/auth"}];a(310);class ae extends l.a.Component{constructor(...e){super(...e),this.state={imgAlt:"Referral Platform - Dev"},this.getRoutes=e=>e.map((e,t)=>"/admin"===e.layout?l.a.createElement(j.b,{path:e.layout+e.path,component:e.component,key:t}):null)}render(){return l.a.createElement("div",{className:"container-bg"},l.a.createElement(G,Object.assign({},this.props,{routes:te,logo:{innerLink:"/admin/index",imgSrc:"data:image/svg+xml,%3Csvg width='763' height='528' xmlns='http://www.w3.org/2000/svg'%3E%3Cstyle type='text/css'%3E.st0%7Bfill:%23fff%7D.st1%7Bfill:%23dd1a22%7D%3C/style%3E%3Cpath fill='none' d='M-1-1h765v530H-1z'/%3E%3Cpath class='st0' d='M2.6 211.5h73.7v224.8h30V211.5H180v-28H2.6zM294.2 262c-25.2 0-45.8 11.6-55.3 28.4V183.5h-29v252.8h29V337c3-32.7 25.7-48.8 50-48.8 31.9 0 43.8 20.6 43.8 46.5v101.6h29V341c0-26.4-2.8-34.5-5.7-42.1-8.7-22.2-32.4-36.9-61.8-36.9zM553.6 351.8c0-24.9-7.2-46.6-20.7-62.7-14.7-17.4-35.9-26.8-61.2-27-23.8.6-44 9.5-58.4 26-14.3 16.2-21.8 38.2-21.8 63.7 0 24.8 7.3 46.4 21.1 62.3 14.4 16.7 34.8 25.7 59.2 26.3 24.8-.2 45.7-9 60.4-25.5 5.9-6.6 10.6-14.2 14.1-22.7l-24.3-8.8c-2.4 5.6-5.6 10.6-9.4 14.9-9.9 11.2-24 17.2-40.8 17.4-17-.5-30.1-6.4-39.1-17.4-7-8.6-11.4-20.3-13-34.2h133.4c.3-4.1.5-8.2.5-12.3zm-81.9-9.3h-52.4c1.3-15.5 6.1-28.7 13.9-38.3 9.1-11.2 22.1-17.2 38.4-17.7 17.6.2 30.9 6.2 39.6 17.7 7 9.4 11.2 22.5 12.3 38.3h-51.8zM588.5 10v61.9h46.2v364.4h61.9V10z'/%3E%3Cpath class='st1' d='M571 469.2h189.4V518H571z'/%3E%3C/svg%3E",imgDarkSrc:"data:image/svg+xml,%3Csvg width='763' height='528' xmlns='http://www.w3.org/2000/svg'%3E%3Cstyle type='text/css'%3E.st0%7Bfill:%23221e1f%7D.st1%7Bfill:%23dd1a22%7D%3C/style%3E%3Cpath fill='none' d='M-1-1h765v530H-1z'/%3E%3Cpath class='st0' d='M2.6 211.5h73.7v224.8h30V211.5H180v-28H2.6zM294.2 262c-25.2 0-45.8 11.6-55.3 28.4V183.5h-29v252.8h29V337c3-32.7 25.7-48.8 50-48.8 31.9 0 43.8 20.6 43.8 46.5v101.6h29V341c0-26.4-2.8-34.5-5.7-42.1-8.7-22.2-32.4-36.9-61.8-36.9zM553.6 351.8c0-24.9-7.2-46.6-20.7-62.7-14.7-17.4-35.9-26.8-61.2-27-23.8.6-44 9.5-58.4 26-14.3 16.2-21.8 38.2-21.8 63.7 0 24.8 7.3 46.4 21.1 62.3 14.4 16.7 34.8 25.7 59.2 26.3 24.8-.2 45.7-9 60.4-25.5 5.9-6.6 10.6-14.2 14.1-22.7l-24.3-8.8c-2.4 5.6-5.6 10.6-9.4 14.9-9.9 11.2-24 17.2-40.8 17.4-17-.5-30.1-6.4-39.1-17.4-7-8.6-11.4-20.3-13-34.2h133.4c.3-4.1.5-8.2.5-12.3zm-81.9-9.3h-52.4c1.3-15.5 6.1-28.7 13.9-38.3 9.1-11.2 22.1-17.2 38.4-17.7 17.6.2 30.9 6.2 39.6 17.7 7 9.4 11.2 22.5 12.3 38.3h-51.8zM588.5 10v61.9h46.2v364.4h61.9V10z'/%3E%3Cpath class='st1' d='M571 469.2h189.4V518H571z'/%3E%3C/svg%3E",imgAlt:this.state.imgAlt}})),l.a.createElement("div",{className:"main-content",ref:"mainContent"},l.a.createElement(j.d,null,this.getRoutes(te),l.a.createElement(j.a,{from:"*",to:"/admin"}))))}}var ne=ae;class re extends l.a.Component{render(){return l.a.createElement("div",null)}}var se=re;class ce extends l.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map((e,t)=>"/auth"===e.layout?l.a.createElement(j.b,{path:e.layout+e.path,component:e.component,key:t}):null)}render(){return l.a.createElement("div",{className:"container-bg main-content"},l.a.createElement(se,null),l.a.createElement(D.a,{className:"mt-7 pb-5"},l.a.createElement(F.a,{className:"justify-content-center"},l.a.createElement(j.d,null,this.getRoutes(te),l.a.createElement(j.a,{from:"*",to:"/auth/login"})))))}}var le=ce;class oe extends l.a.Component{UNSAFE_componentWillMount(){this.props.setLoad(!1)}UNSAFE_componentWillUpdate(e){e.load.active&&e.setLoad(!1)}render(){return l.a.createElement(_.a,null,l.a.createElement(j.d,null,l.a.createElement(j.b,{path:"/admin",component:U(ne)}),l.a.createElement(j.b,{path:"/auth",component:T(le)}),l.a.createElement(j.a,{from:"/",to:"/auth"})))}}var ue=Object(u.b)((function(e){return e}),(function(e){return{setLoad:t=>{e(t?{type:"LOADING_ACTIVE"}:{type:"LOADING_INACTIVE"})}}}))(oe);const ie=function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,me(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=e=>Object(o.render)(l.a.createElement(u.a,{store:e},l.a.createElement(ue,null),l.a.createElement(L,null)),document.getElementById("root"));ie()}},[[143,1,2]]]);
//# sourceMappingURL=main.2ca6b2ca.chunk.js.map